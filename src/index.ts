import "./style.css";

// const neighborhoods: google.maps.LatLngLiteral[] = [
//   { lat: 23.796923884849928, lng: 90.44464766267176 },  
//   { lat: 23.79692247549192,  lng: 90.44467047964784 },
//   { lat: 23.796918263430758, lng: 90.44470549829288 },   
//   { lat: 23.796908478861443, lng: 90.44474816262237 },
//   { lat: 23.796884771916176, lng: 90.44478781358245 },
//   { lat: 23.796870884574954, lng: 90.44486839978114 },
//   { lat: 23.796884883665214, lng: 90.44492449666606 },
//   { lat: 23.796978171621234, lng: 90.44501818265448 },  
// ];

// const abcd: google.maps.LatLngLiteral[] = [
//   { lat: 23.796933849068058, lng: 90.44472740649728 },
//   { lat: 23.796923508555977, lng: 90.44475707250577 },
//   { lat: 23.79692286227395,  lng: 90.44475424717163 },
//   { lat: 23.796902827529347, lng: 90.44478250051303 },
//   { lat: 23.796897657272176, lng: 90.44480863485387 },
//   { lat: 23.796902181247216, lng: 90.44480651585326 },
//   { lat: 23.79690929035053,  lng: 90.44481004752093 },
//   { lat: 23.79690476637574,  lng: 90.4448156981892  },
//   { lat: 23.796919630863734, lng: 90.44482276152456 },
//   { lat: 23.796919630863734, lng: 90.44482488052518 },
//   { lat: 23.796931910222103, lng: 90.44483688819527 },
//   { lat: 23.796917692017576, lng: 90.44484465786417 },
//   { lat: 23.796896364707845, lng: 90.44484183253002 },
//   { lat: 23.796884085346115, lng: 90.4448552528672  },
// ];

var abcde: google.maps.LatLngLiteral[] = [
  { lat: 23.7969247401265, lng: 90.4445319343745 },
  { lat: 23.7969253536693, lng: 90.4445359576877 },
  { lat: 23.7969253536693, lng: 90.4445406515532 },
  { lat: 23.7969228994982, lng: 90.4445473570753 },
  { lat: 23.7969210588698, lng: 90.4445520509408 },
  { lat: 23.7969228994982, lng: 90.4445567448062 },
  { lat: 23.7969222859554, lng: 90.4445634503283 },
  { lat: 23.7969228994982, lng: 90.4445694852982 },
  { lat: 23.7969228994982, lng: 90.4445768613725 },
  { lat: 23.7969216724126, lng: 90.4445835668946 },
  { lat: 23.7969222859554, lng: 90.4445889313123 },
  { lat: 23.7969198317842, lng: 90.4445949662822 },
  { lat: 23.796917377613, lng: 90.4445983190432 },
  { lat: 23.796917377613, lng: 90.4446036834609 },
  { lat: 23.7969155369845, lng: 90.4446097184308 },
  { lat: 23.7969143098989, lng: 90.4446144122963 },
  { lat: 23.7969112421847, lng: 90.4446184356095 },
  { lat: 23.7969075609276, lng: 90.444623129475 },
  { lat: 23.7969051067561, lng: 90.4446291644449 },
  { lat: 23.7968995848702, lng: 90.4446318466537 },
  { lat: 23.7968959036127, lng: 90.4446385521758 },
  { lat: 23.7968946765269, lng: 90.4446445871457 },
  { lat: 23.7968897681834, lng: 90.4446512926678 },
  { lat: 23.7968854733828, lng: 90.4446553159811 },
  { lat: 23.7968848598398, lng: 90.4446593392943 },
  { lat: 23.7968836327538, lng: 90.444661350951 },
  { lat: 23.7968836327538, lng: 90.444661350951 },
  { lat: 23.7968830192109, lng: 90.4446667153687 },
  { lat: 23.7968817921249, lng: 90.4446680564731 },
  { lat: 23.7968811785819, lng: 90.4446714092341 },
  { lat: 23.796879951496, lng: 90.444674091443 },
  { lat: 23.796878110867, lng: 90.4446761030996 },
  { lat: 23.796876270238, lng: 90.4446807969651 },
  { lat: 23.796875656695, lng: 90.4446807969651 },
  { lat: 23.796875043152, lng: 90.4446848202783 },
  { lat: 23.7968738160659, lng: 90.4446921963526 },
  { lat: 23.7968732025229, lng: 90.4446955491137 },
  { lat: 23.7968707483508, lng: 90.4446989018747 },
  { lat: 23.7968682941786, lng: 90.444702925188 },
  { lat: 23.7968670670925, lng: 90.4447082896057 },
  { lat: 23.7968652264634, lng: 90.4447143245756 },
  { lat: 23.7968658400064, lng: 90.4447210300977 },
  { lat: 23.7968695212647, lng: 90.4447257239631 },
  { lat: 23.7968627722911, lng: 90.4447170067844 },
  { lat: 23.7968639993772, lng: 90.4447210300977 },
  { lat: 23.7968652264634, lng: 90.4447243828587 },
  { lat: 23.7968695212647, lng: 90.4447277356198 },
  { lat: 23.7968707483508, lng: 90.4447277356198 },
  { lat: 23.7968725889799, lng: 90.4447310883808 },
  { lat: 23.796875043152, lng: 90.4447344411419 },
  { lat: 23.796877497324, lng: 90.4447357822463 },
  { lat: 23.7968805650389, lng: 90.4447404761117 },
  { lat: 23.7968817921249, lng: 90.4447451699772 },
  { lat: 23.7968830192109, lng: 90.4447438288729 },
  { lat: 23.7968836327539, lng: 90.4447458405295 },
  { lat: 23.7968854733828, lng: 90.4447478521861 },
  { lat: 23.7968873140117, lng: 90.4447491932905 },
  { lat: 23.7968873140117, lng: 90.4447512049472 },
  { lat: 23.7968897681835, lng: 90.4447525460516 },
  { lat: 23.7968916088123, lng: 90.4447552282604 },
  { lat: 23.796894062984, lng: 90.4447585810215 },
  { lat: 23.7968946765269, lng: 90.4447619337825 },
  { lat: 23.7968903817264, lng: 90.4447686393046 },
  { lat: 23.7968848598398, lng: 90.4447713215135 },
  { lat: 23.796877497324, lng: 90.4447719920657 },
  { lat: 23.796874429609, lng: 90.4447713215135 },
  { lat: 23.7968707483508, lng: 90.4447726626179 },
  { lat: 23.7968664535495, lng: 90.4447733331701 },
  { lat: 23.7968621587481, lng: 90.4447740037223 },
  { lat: 23.7968597045757, lng: 90.4447760153789 },
  { lat: 23.796854796231, lng: 90.4447786975878 },
  { lat: 23.7968517285154, lng: 90.444782720901 },
  { lat: 23.7968480472566, lng: 90.4447860736621 },
  { lat: 23.7968462066272, lng: 90.4447894264231 },
  { lat: 23.7968443659977, lng: 90.4447914380798 },
  { lat: 23.7968437524545, lng: 90.4447941202886 },
  { lat: 23.7968412982819, lng: 90.4447974730496 },
  { lat: 23.796838230566, lng: 90.4448001552585 },
  { lat: 23.7968345493068, lng: 90.4448028374673 },
  { lat: 23.7968314815907, lng: 90.4448075313328 },
  { lat: 23.7968271867881, lng: 90.4448088724372 },
  { lat: 23.7968228919854, lng: 90.4448095429894 },
  { lat: 23.7968185971825, lng: 90.4448108840938 },
  { lat: 23.7968149159228, lng: 90.4448135663027 },
  { lat: 23.7968112346629, lng: 90.4448155779593 },
  { lat: 23.7968081669463, lng: 90.4448182601682 },  
];
let markers: google.maps.Marker[] = [];
let map: google.maps.Map;
let flightPath: google.maps.Polyline[] = [];
var v = new String();
function initMap(): void {
  map = new google.maps.Map(document.getElementById("map") as HTMLElement, {
    zoom: 30,
    center: { lat: 23.796933849068058, lng: 90.44484183253002},
    mapTypeId: 'satellite'

  });

  document.getElementById("drop")!.addEventListener("click", drop);
}
function drop(): void {
  clearMarkers();

  for (let i = 0; i < abcde.length; i++) {
    //addMarkerWithTimeout(neighborhoods[i], i * 1000);
    if(i > 0)
    {      
      line_draw(abcde[i-1], abcde[i], i*1000);
      abcd(String(abcde[i-1].lat), String(abcde[i-1].lng), i*500);
    }
  }
}
function abcd(
  a : string,
  b : string,
  time: number
):void{
  window.setTimeout(() => {
    var inputElement = <HTMLInputElement>document.getElementById('abcd');
    var s = v.concat("lattitude: ", a, ", longitude: " , b);
    inputElement.value = s;  
  }, time);

};
function line_draw(
  position1: google.maps.LatLngLiteral,
  position2: google.maps.LatLngLiteral,
  time: number
): void{
  window.setTimeout(() => {
    var abcd = [position1,position2];
    flightPath.push(
      new google.maps.Polyline({
        path: abcd, map,
        geodesic: true,
        strokeColor: "#0000FF",
        strokeOpacity: 1.0,
        strokeWeight: 10,
      })
    );    
  }, time);
}

function addMarkerWithTimeout(
  position: google.maps.LatLngLiteral,
  timeout: number
): void {
  window.setTimeout(() => {
    markers.push(
      new google.maps.Marker({
        position: position, map,
        icon: {
          path: google.maps.SymbolPath.CIRCLE,
          scale: 5,
          fillOpacity: 1,
          strokeWeight: 1,
          fillColor: '#5384ED',
          strokeColor: '#ffffff',
        },
      })
    );
  }, timeout);
}

function clearMarkers(): void {
  for (let i = 0; i < markers.length; i++) {
    markers[i].setMap(null);
  }
  for(let i = 0; i < flightPath.length; i++) {
    flightPath[i].setMap(null);
  }
  markers = [];
  flightPath = [];
  
}
export { initMap, drop };
